# View

- 뷰는 UI를 만드는 데 사용되는 구성 요소이다. 
- 휴대폰 화면에 보이는 모든 것이 뷰다.
- 뷰 중에 사용자와 상호 작용하는 뷰를 위젯이라고 한다.
  - 모든 위젯은 뷰 클래스나 뷰 서브클래스의 인스턴스이다.
- 뷰 그룹은 뷰의 일종이다. `ViewGroup extends View`
  - 레이아웃을 말한다.
  - 화면에 보여지진 않지만 다른 뷰들을 배치해준다.


- `android:text` 속성에는 문자열 리소스에 대한 참조를 넣자
  - 지역화가 쉽다.


- 어떻게 xml요소들이 View 객체가 될까?
  - `setContentView(id)`
    - 이 함수는 레이아웃을 inflate 해 화면에 나타낸다.
    - 레이아웃 인플레이트
      - 레이아웃 파일의 위젯을 인스턴스로 생성
    - 레이아웃의 id를 인자로 전달한다. 
    

- AppCompatActivity
  - 안드로이드 Activity 클래스의 서브클래스
  - 과거 안드로이드 버전과 호환성을 위해 제공


- 리소스
  - 레이아웃, 이미지, 오디오 파일 등이 리소스이다.
  - 리소스는 어플리케이션의 일부이다.
  - `app/res` 하위에 존재한다.
  - 코드에서는 리소스 ID를 지정해서 사용한다. 
  - 모든 리소스 ID는 앱을 빌드할 때마다 안드로이드 빌드 도구가 R.class에 자동으로 생성한다. 


- 위젯과 코드 연결
  - inflate 된 뷰 객체들의 참조를 얻는다.
  - 객체에 리스너를 연결해서 사용자의 액션에 응답한다.
  - inflate 이후에 뷰의 참조를 얻을 수 있다.


- 리스너
  - 안드로이드 어플은 event-driven이다.
  - 이벤트 기반 어플은 구동이 되면 이벤트 발생을 기다린다.
  - 이벤트에 응답하기 위해 생성하는 객체를 리스너라고 한다.
    - 해당 이벤트의 리스너 인터페이스를 구현한다.
  - `View.OnClickListener`
    - `onClick(View)` 메소드 하나만 갖는 인터페이스이다.
      - 단일 추상 메소드 -> SAM (자바)
        - 코틀린에서 자바 SAM 인터페이스 구현을 함수나 람다식으로 작성할 수 있다.
        - 자동으로 인터페이스 구현 객체로 변환해준다. -> SAM 변환


- 안드로이드 앱 빌드 절차
  - 빌드를 하면 안드로이드 도구가 리소스, 코드, manifest 를 가지고 apk 파일을 만든다.
  - 레이아웃 xml 파일이 어떻게 View 객체로 변환될까
    - appt2(Android Asset Packaging Tool 2)가 레이아웃 파일의 리소스들을 좀 더 압축된 형태로 컴파일한다.
    - `setContentView()`가 호출되면 MainActivity는 LayoutInflater 클래스를 사용해서 레이아웃 파일에 있는 뷰들의 인스턴스를 생성한다. 